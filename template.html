{{#scope this}}
<div class="type-container">
    <div class="type-header">
        {{#if id}}<div class="type-name {{#if root}}title{{/if}}">{{id}}</div>{{/if}}
        <div class="type-description">{{title}} {{description}}</div>
        <div class="type-header-end"></div>
    </div
    <div class="type-body">
        <div class="expand button" title="Expand all">+</div>
        {{#if properties}}
        {{#each properties}}
        <div class="property">
            <div class="property-header">
                <div class="property-name">{{@key}}</div>
                <div class="property-type">
                    {{#equals type "array"}}
                        <span class="property-collection">array</span>
                        {{#primitive items}}
                        <span class="property-type-{{type}}">{{type}}</span>
                        {{/primitive}}
                        {{#equals items "object"}}
                        <span class="property-type-object property-type-expandable button">object</span>
                        {{/equals}}
                        {{#if items.$ref}}
                        <span class="property-type-ref property-type-expandable button">{{refName items.$ref}}</span>
                        {{/if}}                    
                    {{/equals}}
                    {{#primitive type}}
                        <span class="property-type-{{type}}">{{type}}</span>
                    {{/primitive}}
                    {{#equals type "object"}}
                        <span class="property-type-object property-type-expandable button">object</span>
                    {{/equals}}
                    {{#if $ref}}
                        <span class="property-type-ref property-type-expandable button">{{refName $ref}}</span>
                    {{/if}}
                </div>
                <div class="property-description">{{property.title}} {{property.description}}</div>
            </div>
            {{#if $ref}}
            <div class="property-type-container">
                {{ref $ref}}
            </div>
            {{/if}}            
            {{#if items.$ref}}
            <div class="property-type-container">            
                {{ref items.$ref}}
            </div>
            {{/if}}
        </div>
        {{/each}}
        {{/if}}
    </div>
</div>
{{/scope}}
